{"ast":null,"code":"var _jsxFileName = \"/Users/jashanpreetsingh/fire-damage/fire-damage-ui/src/components/AddClientData.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport clientDataService from \"../services/ClientDataService\";\nimport AddClaim from \"./AddClaim\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddClientData = props => {\n  _s();\n\n  let initialClientDataState = {\n    id: null,\n    firstName: \"\",\n    surName: \"\",\n    dateOfBirth: \"\",\n    state: \"TAS\",\n    landOwner: \"YES\",\n    dateOfLCA: \"\",\n    insuranceData: []\n  };\n  const [clientData, setClientData] = useState(initialClientDataState);\n  const [insuranceData, setInsuranceData] = useState([]);\n  useEffect(() => {\n    if (!props.isAddFlow) {\n      setClientData(props.data);\n      setInsuranceData(props.data);\n    }\n  }, [props.data]);\n\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setClientData({ ...clientData,\n      [name]: value\n    });\n  };\n\n  const handleclaimInputChange = p => {\n    setInsuranceData({ ...insuranceData,\n      p\n    });\n    let indexOfObject = 0;\n    const ind = clientData.insuranceData.filter((d, index) => {\n      console.log(p.id + \"     \" + d.id);\n\n      if (p.id === d.id) {\n        indexOfObject = index;\n        return index;\n      } else {\n        console.log(\"Error occured\");\n      }\n    });\n    clientData.insuranceData[indexOfObject] = p;\n    setClientData(...clientData);\n  };\n\n  const addClaimData = data => {\n    clientData.insuranceData.push(data);\n    setClientData({ ...clientData\n    });\n  };\n\n  const removeClaimData = d => {\n    let inD = clientData.insuranceData.indexOf(d);\n    const a = clientData.insuranceData.splice(inD, 1);\n    setClientData({ ...clientData\n    });\n  };\n\n  const saveClient = () => {\n    var data = { ...clientData\n    };\n\n    if (props.isAddFlow) {\n      clientDataService.create(data).then(response => {\n        alert(\"Client ID ::\" + response.data.clientData.id);\n      }).catch(e => {\n        console.log(e);\n      });\n    } else {\n      data = { ...clientData,\n        id: props.data.id\n      };\n      clientDataService.update(data).then(response => {\n        alert(\"Successfully Updated!!\");\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          style: {\n            borderStyle: \"dotted\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"First name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"title\",\n              value: clientData.firstName,\n              onChange: handleInputChange,\n              name: \"firstName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"Surname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              id: \"title\",\n              value: clientData.surName,\n              onChange: handleInputChange,\n              name: \"surName\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"Date of Birth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"form-control\",\n              id: \"title\",\n              value: clientData.dateOfBirth,\n              onChange: handleInputChange,\n              name: \"dateOfBirth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"State\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              class: \"form-select\",\n              \"aria-label\": \"Default select example\",\n              selected: true,\n              value: clientData.state,\n              name: \"state\",\n              onChange: handleInputChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NSW\",\n                children: \"NSW\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"QLD\",\n                children: \"QLD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"SA\",\n                children: \"SA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"TAS\",\n                children: \"TAS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"VIC\",\n                children: \"VIC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"WA\",\n                children: \"WA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"title\",\n              children: \"Land Owner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              class: \"form-select\",\n              \"aria-label\": \"Default select example\",\n              selected: true,\n              value: clientData.landOwner,\n              name: \"landOwner\",\n              onChange: handleInputChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"YES\",\n                children: \"YES\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NO\",\n                children: \"NO\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NOT_SET\",\n                children: \"NOT_SET\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\",\n              children: \"Date of LCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"form-control\",\n              id: \"description\",\n              selected: clientData.dateOfLCA,\n              value: clientData.dateOfLCA,\n              onChange: handleInputChange,\n              name: \"dateOfLCA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: saveClient,\n              className: \"btn btn-success\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm\",\n              children: clientData.insuranceData.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n                class: \"list-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  class: \"list-group-item active\",\n                  children: \"Claim Data List\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this), clientData.insuranceData.map(d => {\n                  return /*#__PURE__*/_jsxDEV(\"li\", {\n                    class: \"list-group-item\",\n                    children: [\" \", d.policyNumber, \" \\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn-sm btn-danger\",\n                      style: {\n                        float: \"right\"\n                      },\n                      onClick: () => removeClaimData(d),\n                      children: \"X\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 23\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: /*#__PURE__*/_jsxDEV(AddClaim, {\n                addClaimData: addClaimData,\n                data: clientData.insuranceData,\n                isAddFlow: props.isAddFlow,\n                handleClaimChanges: handleclaimInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(AddClientData, \"FViryijFarBlV5BtWk+BAaikIhQ=\");\n\n_c = AddClientData;\nexport default AddClientData;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddClientData\");","map":{"version":3,"sources":["/Users/jashanpreetsingh/fire-damage/fire-damage-ui/src/components/AddClientData.js"],"names":["React","useEffect","useState","clientDataService","AddClaim","AddClientData","props","initialClientDataState","id","firstName","surName","dateOfBirth","state","landOwner","dateOfLCA","insuranceData","clientData","setClientData","setInsuranceData","isAddFlow","data","handleInputChange","event","name","value","target","handleclaimInputChange","p","indexOfObject","ind","filter","d","index","console","log","addClaimData","push","removeClaimData","inD","indexOf","a","splice","saveClient","create","then","response","alert","catch","e","update","borderStyle","length","map","policyNumber","float"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport clientDataService from \"../services/ClientDataService\";\nimport AddClaim from \"./AddClaim\";\n\nconst AddClientData = (props) => {\n\n  let initialClientDataState = {\n    id: null,\n    firstName: \"\",\n    surName: \"\",\n    dateOfBirth: \"\",\n    state:\"TAS\",\n    landOwner:\"YES\",\n    dateOfLCA:\"\",\n    insuranceData:[]\n  };\n  const [clientData, setClientData] =  useState(initialClientDataState);\n  const [insuranceData, setInsuranceData] =  useState([]);\n  useEffect(() => { \n  if(!props.isAddFlow) {\n    setClientData(props.data); \n    setInsuranceData(props.data); \n  }\n  }, [props.data]);\n  \n\n  const handleInputChange = event => {\n    const { name, value } = event.target;\n    setClientData({ ...clientData, [name]: value });\n    \n  };\n\n  const handleclaimInputChange = (p) => {\n    setInsuranceData({...insuranceData,p});\n\n    let indexOfObject = 0;\n    const ind = clientData.insuranceData.filter((d, index) => {\n      console.log(p.id +\"     \" + d.id); \n      if(p.id === d.id){\n        indexOfObject = index;\n        return index;\n      }else{\n          console.log(\"Error occured\");\n      }\n    })\n\n    clientData.insuranceData[indexOfObject] = p;\n    setClientData(...clientData);\n  }\n\n  const addClaimData = (data) => {\n    clientData.insuranceData.push(data);\n    setClientData({ ...clientData });\n  }\n  const removeClaimData = (d) => {\n    let inD = clientData.insuranceData.indexOf(d);\n    const a = clientData.insuranceData.splice(inD,1);\n   setClientData({ ...clientData});\n  }\n\n  const saveClient = () => {\n    var data = {\n      ...clientData\n    };\n\n    if(props.isAddFlow) {\n    clientDataService.create(data)\n      .then(response => {\n        alert(\"Client ID ::\" + response.data.clientData.id);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n    }else {\n\n      data = {\n        ...clientData, id:props.data.id\n      } \n\n      clientDataService.update(data)\n      .then(response => {\n        alert(\"Successfully Updated!!\");\n      })\n      .catch(e => {\n        console.log(e);\n      });\n    }\n  };\n\n \n  return (\n    <>\n    \n      {(\n        <div className=\"container\">\n          <div className = \"row\">\n        <div className=\"col\"  style={{borderStyle: \"dotted\"}}>\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">First name</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"title\"\n              value={clientData.firstName}\n              onChange={handleInputChange}\n              name=\"firstName\"\n            />\n            <label htmlFor=\"title\">Surname</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"title\"\n              value={clientData.surName}\n              onChange={handleInputChange}\n              name=\"surName\"\n            />\n            <label htmlFor=\"title\">Date of Birth</label>\n            <input\n              type=\"date\"\n              className=\"form-control\"\n              id=\"title\"\n              value={clientData.dateOfBirth}\n              onChange={handleInputChange}\n              name=\"dateOfBirth\"\n            />\n            <label htmlFor=\"title\">State</label>\n            <select class=\"form-select\" aria-label=\"Default select example\" selected value={clientData.state} name=\"state\" onChange={handleInputChange}>\n              <option value=\"NSW\">NSW</option>\n              <option value=\"QLD\">QLD</option>\n              <option value=\"SA\">SA</option>\n              <option value=\"TAS\">TAS</option>\n              <option value=\"VIC\">VIC</option>\n              <option value=\"WA\">WA</option>\n            </select>\n\n\n            <label htmlFor=\"title\">Land Owner</label>\n            <select class=\"form-select\" aria-label=\"Default select example\" selected value={clientData.landOwner} name=\"landOwner\" onChange={handleInputChange}>\n              <option value=\"YES\">YES</option>\n              <option value=\"NO\">NO</option>\n              <option value=\"NOT_SET\">NOT_SET</option>\n            </select>\n\n          </div>\n          <br />\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Date of LCA</label>\n            <input\n              type=\"date\"\n              className=\"form-control\"\n              id=\"description\"\n              selected={clientData.dateOfLCA}\n              value={clientData.dateOfLCA}\n              onChange={handleInputChange}\n              name=\"dateOfLCA\"\n\n\n            />\n          </div>\n          <br />\n          <div className=\"form-group\">\n            <button onClick={saveClient} className=\"btn btn-success\">\n              Submit\n            </button>\n          </div>\n            </div>\n         \n            <div className=\"col\">\n            <div className=\"row\">\n              <div className=\"col-sm\">\n              {clientData.insuranceData.length > 0 && \n                <ul class=\"list-group\">\n                \n                  <li class=\"list-group-item active\">Claim Data List</li>\n                  {clientData.insuranceData.map((d) => {\n                    return (\n                      <li class=\"list-group-item\"> {d.policyNumber} &nbsp;&nbsp;&nbsp;\n                      <button className= \"btn-sm btn-danger\" style={{float:\"right\"}} onClick={() => removeClaimData(d) }>X</button> \n                      </li>\n                    )\n                  })}\n                </ul>\n}\n              </div>\n              <div className=\"col\">\n                <AddClaim addClaimData={addClaimData} data={clientData.insuranceData} isAddFlow={props.isAddFlow} handleClaimChanges={handleclaimInputChange}></AddClaim>\n              </div>\n             \n\n            </div>\n          </div>\n\n\n\n          </div>\n\n          <br />\n\n          \n          \n          </div>\n      )}\n    \n</>\n   \n\n  );\n};\n\nexport default AddClientData;"]},"metadata":{},"sourceType":"module"}